(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{8721:(e,t,r)=>{Promise.resolve().then(r.bind(r,9495))},9495:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var l=r(5155),s=r(2619),n=r.n(s),o=r(2115);function a(e){let{projects:t}=e,[r,s]=(0,o.useState)(null),n=(0,o.useMemo)(()=>Array.from(new Set(t.flatMap(e=>e.role?e.role.split(",").map(e=>e.trim()):[]))),[t]),a=(0,o.useMemo)(()=>r?t.filter(e=>(e.role||"").split(",").map(e=>e.trim()).includes(r)):t,[t,r]),c=(0,o.useMemo)(()=>(function(e){let t={};for(let r of e){let e=r.year&&/\d{4}/.test(r.year)?r.year:"Unknown";t[e]||(t[e]=[]),t[e].push(r)}return t})(a),[a]),d=(0,o.useMemo)(()=>[...Object.keys(c).filter(e=>"Unknown"!==e).map(e=>parseInt(e,10)).sort((e,t)=>t-e).map(e=>String(e)),...c.Unknown?["Unknown"]:[]],[c]),u="Unknown",h=(0,o.useMemo)(()=>d.filter(e=>e!==u),[d]),{leadingYears:p,suffixYears:m}=(0,o.useMemo)(()=>{let e=[],t=[];for(let s of h){var r,l;(null!=(l=null==(r=c[s])?void 0:r.length)?l:0)>=2?e.push(s):t.push(s)}return{leadingYears:e,suffixYears:t}},[h,c]),x=(0,o.useMemo)(()=>m.length?m.join(" • "):null,[m]),f=(0,o.useMemo)(()=>m.flatMap(e=>c[e]||[]),[m,c]),w=(0,o.useRef)(null),[j,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e,t,r=w.current;if(!r)return;let l=window.matchMedia("(prefers-reduced-motion: reduce)").matches,s=window.matchMedia("(min-width: 1024px)").matches,n=!l&&!s&&r.scrollWidth>r.clientWidth;if(v(n),n){let l=Math.min(64,r.scrollWidth-r.clientWidth);e=window.setTimeout(()=>{r.scrollTo({left:l,behavior:"smooth"}),t=window.setTimeout(()=>{r.scrollTo({left:0,behavior:"smooth"})},900)},600)}let o=()=>{r.scrollLeft>4&&v(!1)};return r.addEventListener("scroll",o,{passive:!0}),()=>{e&&window.clearTimeout(e),t&&window.clearTimeout(t),r.removeEventListener("scroll",o)}},[n]),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{ref:w,className:"chips-row no-scrollbar overflow-x-auto snap-x snap-proximity -mx-4 px-4 lg:mx-0 lg:px-0 py-2 flex gap-2 overscroll-x-contain lg:flex-wrap lg:overflow-visible",children:[(0,l.jsx)("button",{type:"button",className:"chip chip--all ".concat(r?"":"chip--active"),"aria-pressed":!r,onClick:()=>s(null),children:"All"}),n.map(e=>(0,l.jsx)("button",{type:"button",className:"chip ".concat(r===e?"chip--active":""),"aria-pressed":r===e,onClick:()=>s(t=>t===e?null:e),children:e},e))]}),j?(0,l.jsx)("div",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 h-8 px-2 rounded-[10px] border border-white/10 bg-black/30 flex items-center justify-center",children:(0,l.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M9 18l6-6-6-6"})})}):null]}),p.map(e=>(0,l.jsx)(i,{year:e,projects:c[e]},e)),x?(0,l.jsx)(i,{year:x,projects:f},"combined-".concat(x)):null,d.includes(u)?(0,l.jsx)(i,{year:u,projects:c[u]},u):null]})}function i(e){let{year:t,projects:r}=e,s=(0,o.useRef)(null);(0,o.useEffect)(()=>{},[]);let a=e=>{let t=s.current;if(!t)return;let r=.9*t.clientWidth*e;t.scrollBy({left:r,behavior:"smooth"})};return(0,l.jsxs)("section",{className:"space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:t}),(0,l.jsx)("div",{className:"border-t border-white/10"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{ref:s,onKeyDown:e=>{("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(e.preventDefault(),a("ArrowLeft"===e.key?-1:1))},tabIndex:0,role:"region","aria-label":"Projects ".concat(t),"data-rowscroller":"true",className:"no-scrollbar overflow-x-auto snap-x snap-proximity -mx-4 px-4 lg:mx-0 lg:px-0 py-2 flex gap-4 overscroll-x-contain",children:r.map(e=>{var t;return(0,l.jsxs)(n(),{href:"/projects/".concat(e.slug),className:"block snap-start shrink-0 w-60",children:[(0,l.jsx)("div",{className:"card aspect-[4/5] bg-neutral-200 dark:bg-neutral-800 overflow-hidden rounded",children:e.poster?(0,l.jsx)("img",{src:e.poster,alt:e.title,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full bg-black flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white/90 text-base font-semibold uppercase tracking-[0.2em] drop-shadow-[0_0_10px_rgba(255,255,255,0.55)]",children:"COMING SOON"})})}),(0,l.jsxs)("div",{className:"mt-2 text-sm",children:[(0,l.jsx)("div",{className:"opacity-90 truncate",title:e.title,children:e.title}),(0,l.jsxs)("div",{className:"text-muted text-xs truncate",title:"".concat(null!=(t=e.role)?t:"").concat(e.year?" • ".concat(e.year):""),children:[e.role,e.year?" • ".concat(e.year):""]})]})]},e.slug)})}),(0,l.jsx)("button",{"aria-label":"Previous",className:"arrow-btn absolute left-1 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center",onClick:()=>a(-1),children:(0,l.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M15 18l-6-6 6-6"})})}),(0,l.jsx)("button",{"aria-label":"Next",className:"arrow-btn absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center",onClick:()=>a(1),children:(0,l.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M9 18l6-6-6-6"})})})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8721)),_N_E=e.O()}]);