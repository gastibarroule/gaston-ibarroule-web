(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{8721:(e,t,l)=>{Promise.resolve().then(l.bind(l,9495))},9495:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var r=l(5155),s=l(2619),n=l.n(s),a=l(2115);function o(e){let{projects:t}=e,[l,s]=(0,a.useState)(null),n=(0,a.useMemo)(()=>Array.from(new Set(t.flatMap(e=>e.role?e.role.split(",").map(e=>e.trim()):[]))),[t]),o=(0,a.useMemo)(()=>l?t.filter(e=>(e.role||"").split(",").map(e=>e.trim()).includes(l)):t,[t,l]),i=(0,a.useMemo)(()=>(function(e){let t={};for(let l of e){let e=l.year&&/\d{4}/.test(l.year)?l.year:"Unknown";t[e]||(t[e]=[]),t[e].push(l)}return t})(o),[o]),u=(0,a.useMemo)(()=>[...Object.keys(i).filter(e=>"Unknown"!==e).map(e=>parseInt(e,10)).sort((e,t)=>t-e).map(e=>String(e)),...i.Unknown?["Unknown"]:[]],[i]),d="Unknown",h=(0,a.useMemo)(()=>u.filter(e=>e!==d),[u]),{leadingYears:p,suffixYears:x}=(0,a.useMemo)(()=>{let e=h.length;for(let r=h.length-1;r>=0;r--){var t,l;if((null!=(l=null==(t=i[h[r]])?void 0:t.length)?l:0)<4)e=r;else break}return{leadingYears:h.slice(0,e),suffixYears:h.slice(e)}},[h,i]),m=(0,a.useMemo)(()=>x.length?x.join(" • "):null,[x]),f=(0,a.useMemo)(()=>x.flatMap(e=>i[e]||[]),[x,i]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("button",{type:"button",className:"chip fx-enter ".concat(l?"":"chip--active scale-up"),onClick:()=>s(null),children:"All"}),n.map(e=>(0,r.jsx)("button",{type:"button",className:"chip fx-enter ".concat(l===e?"chip--active scale-up":""),onClick:()=>s(t=>t===e?null:e),children:e},e))]}),p.map(e=>(0,r.jsx)(c,{year:e,projects:i[e]},e)),m?(0,r.jsx)(c,{year:m,projects:f},"combined-".concat(m)):null,u.includes(d)?(0,r.jsx)(c,{year:d,projects:i[d]},d):null]})}function c(e){let{year:t,projects:l}=e,s=(0,a.useRef)(null);(0,a.useEffect)(()=>{},[]);let o=e=>{let t=s.current;if(!t)return;let l=.9*t.clientWidth*e;t.scrollBy({left:l,behavior:"smooth"})};return(0,r.jsxs)("section",{className:"space-y-3",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:t}),(0,r.jsx)("div",{className:"border-t border-white/10"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{ref:s,onKeyDown:e=>{("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(e.preventDefault(),o("ArrowLeft"===e.key?-1:1))},tabIndex:0,role:"region","aria-label":"Projects ".concat(t),"data-rowscroller":"true",className:"no-scrollbar overflow-x-auto snap-x snap-proximity -mx-4 px-4 lg:mx-0 lg:px-0 py-2 flex gap-4 overscroll-x-contain",children:l.map(e=>{var t;return(0,r.jsxs)(n(),{href:"/projects/".concat(e.slug),className:"block snap-start shrink-0 w-60",children:[(0,r.jsx)("div",{className:"card aspect-[4/5] bg-neutral-200 dark:bg-neutral-800 overflow-hidden rounded",children:e.poster?(0,r.jsx)("img",{src:e.poster,alt:e.title,className:"w-full h-full object-cover"}):null}),(0,r.jsxs)("div",{className:"mt-2 text-sm",children:[(0,r.jsx)("div",{className:"opacity-90 truncate",title:e.title,children:e.title}),(0,r.jsxs)("div",{className:"text-muted text-xs truncate",title:"".concat(null!=(t=e.role)?t:"").concat(e.year?" • ".concat(e.year):""),children:[e.role,e.year?" • ".concat(e.year):""]})]})]},e.slug)})}),(0,r.jsx)("button",{"aria-label":"Previous",className:"arrow-btn absolute left-1 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center",onClick:()=>o(-1),children:(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M15 18l-6-6 6-6"})})}),(0,r.jsx)("button",{"aria-label":"Next",className:"arrow-btn absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center",onClick:()=>o(1),children:(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8721)),_N_E=e.O()}]);